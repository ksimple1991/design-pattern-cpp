# Flyweight Pattern(享元模式)

## 定义
> Use sharing to support large numbers of fine-grained objects efficiently.

使用共享对象可有效地支持大量细粒度的对象。

## 实现

### Flyweight - 抽象享元角色
定义出对象的外部状态和内部状态的接口或者实现

### ConcreteFlyweight - 具体享元角色
具体的一个产品类，实现抽象角色定义的业务。

### unsharedConcreteFlyweight - 不可共享的享元角色
不存在外部状态或者安全要求（如线程安全）不能够使用共享技术的对象，该对象一般不会出现在享元工厂中。

### FlyweightFactory - 享元工厂
构造一个池容器，同时提供从池中获得对象的方法。

## 应用

### 优点
- 减少对象的创建，降低程序内存的占用，增强程序的性能

### 缺点
- 提高了系统复杂性，需要分离出外部状态和内部状态，并且外部状态具有固化特性他，不应该随内部状态改变而改变

### 应用场景
- 系统中存在大量的相似对象
- 细粒度的对象都具备较接近的外部状态，而且内部状态与环境无关
- 需要缓冲池的场景

### 注意事项
- 线程安全问题

- 性能平衡


